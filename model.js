"use strict";class App{editingItemIndex;editingItemAmount;newCurrency;resetDay="Sunday";#e={currentBudget:this.getJSON()?.currentBudget||0,currentAmountOfExpenses:this.getJSON()?.currentAmountOfExpenses||0,expenses:this.getJSON()?.expenses||[],currency:this.getJSON()?.currency||" USD",isReset:this.getJSON()?.isReset||!1};getJSON(){return!!JSON.parse(localStorage.getItem("myBudgetApp"))&&JSON.parse(localStorage.getItem("myBudgetApp"))}getState(){return this.#e}setCurrentBudget(e){return!(+e<=0)&&(this.#e.currentBudget=+e,this.saveLocally(),this.#e.currentBudget)}saveLocally(){localStorage.setItem("myBudgetApp",JSON.stringify(this.#e))}setNewCurrency(){if(this.newCurrency.trim().length>3)return!1;this.#e.currency=` ${this.newCurrency}`}resetAll(e="norefresh"){localStorage.removeItem("myBudgetApp"),"refresh"===e&&location.reload()}createExpense(e){this.#e.expenses.push(e)}modifyExpenses(e,t){return"plus"===t?this.#e.currentAmountOfExpenses+=e:"minus"===t&&(this.#e.currentAmountOfExpenses-=e),this.#e.currentAmountOfExpenses}calcIndicatorPercentage(e,t){return e/t*100+"%"}checkExpenseInput(e,t){return!(e.trim().length<3)&&!(t<=0)}weeklyRefresh(){const e=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"][(new Date).getDay()];console.log(`today is ${e}`);const t=this.#e.currentBudget;if(e!==this.resetDay)return this.#e.isReset=!1,this.saveLocally(),void console.log("no reset");state.isReset||(this.resetAll(),this.#e.isReset=!0,this.#e.currentAmountOfExpenses=0,this.#e.expenses=[],this.#e.currency=" TRY",this.#e.currentBudget=t,this.saveLocally(),location.reload(),console.log("reset because new week"))}}