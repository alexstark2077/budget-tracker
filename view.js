"use strict";class Visuals{handleBudgetFormClick(e){budgetForm.addEventListener("submit",(function(t){t.preventDefault(),e(budgetInput.value)}))}handleChangeCurrencyBtn(e){changeCurrencyBtn.addEventListener("click",(function(){e()}))}showBudget(e,t){budgetBox.querySelector(".budget__info-amount").innerText=new Intl.NumberFormat("en-US").format(e)+t,document.querySelector(".budget__form-input--budget").value="",document.querySelector(".budget__form-input--budget").blur()}renderError(e){const t=`<div class="budget__notification budget__notification--error">${e}</div>`;document.querySelector(".budget__block").insertAdjacentHTML("beforebegin",t),setTimeout((()=>{document.querySelector(".budget__notification").remove()}),5e3)}changeCurrency(e){const{currentBudget:t,currency:n,currentAmountOfExpenses:u}=e;"0"!==document.querySelector(".budget__info-box--budget .budget__info-amount").textContent&&(document.querySelector(".budget__info-box--budget .budget__info-amount").innerText=Intl.NumberFormat("en-US").format(t)+n),"0"!==document.querySelector(".budget__info-box--expenses .budget__info-amount").textContent&&(document.querySelector(".budget__info-box--expenses .budget__info-amount").innerText=Intl.NumberFormat("en-US").format(u)+n),document.querySelectorAll(".budget__expense-amount").forEach((e=>e.innerText=e.innerText.slice(0,e.innerText.indexOf(n)-2)+n))}showStats(e){const{currentBudget:t,currentAmountOfExpenses:n,currency:u}=e;budgetBox.querySelector(".budget__info-amount").innerText=t?new Intl.NumberFormat("en-US").format(t)+u:"0",expensesBox.querySelector(".budget__info-amount").innerText=n?new Intl.NumberFormat("en-US").format(n)+u:"0"}handleResetAllBtnClick(e){resetAllBtn.addEventListener("click",(()=>{e("refresh")}))}handleFormSubmit(e){expensesForm.addEventListener("submit",(function(t){let n;t.preventDefault(),n="Edit"===document.querySelector(".budget__form--expenses .budget__form-btn").innerText?"editing":"adding",e(n)}))}resetInputs(){expenseNameInput.value=expenseAmountInput.value=""}showIndicatorPercentage(e){document.querySelector(".budget__info-indicator span").style.width=e,e.slice(0,-1)>80?document.querySelector(".budget__info-indicator span").style.backgroundColor="#be0000":e.slice(0,-1)>50?document.querySelector(".budget__info-indicator span").style.backgroundColor="gold":document.querySelector(".budget__info-indicator span").style.backgroundColor="green"}handleExpenseItemClicks(e){expensesContainer.addEventListener("click",(function(t){t.target.classList.contains("budget__expense-button")&&e(t.target.closest(".budget__expense-button"))}))}handleExpenseItemHoverIn(){expensesContainer.addEventListener("mouseover",(function(e){e.target.classList.contains("budget__expense-name")&&setTimeout((()=>{e.target.innerText.length<=31||e.target.closest(".budget__expense").querySelector(".budget__expense-tip").classList.add("active")}),300)}))}handleExpenseItemHoverOut(){expensesContainer.addEventListener("mouseout",(function(e){e.target.classList.contains("budget__expense-name")&&setTimeout((()=>{e.target.closest(".budget__expense").querySelector(".budget__expense-tip").classList.remove("active")}),50)}))}toggleEditForm(e,t){document.querySelector(".budget__form--expenses .budget__form-btn").innerText="Edit",document.querySelector(".budget__form--expenses .budget__form-title").innerText="Edit your expense:",document.querySelector(".budget__form-input--expense-name").value=e,document.querySelector(".budget__form-input--expense-name").focus(),document.querySelector(".budget__form-input--expense-amount").value=t}exitEditing(e,t){expensesFormBtn.innerText="Add",expensesFormTitle.innerText="Enter your expenses:",document.querySelectorAll(".budget__expense")[e].querySelector(".budget__expense-name").innerText=expenseNameInput.value,document.querySelectorAll(".budget__expense")[e].querySelector(".budget__expense-amount").innerText=expenseAmountInput.value+t,this.resetInputs(),expenseAmountInput.blur()}showExpenses(e,t){expensesContainer.innerHTML="",0!==e.length&&e.forEach((e=>{const[n,u,o]=e,r=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"][new Date(o).getDay()],s=`<div class="budget__expense" data-date="${new Date(o).getTime()}">\n                        <div class="budget__expense-name">${n}</div>\n                        <div class="budget__expense-amount">${Intl.NumberFormat("en-US").format(u)+t}</div>\n                        <div class="budget__expense-buttons">\n                            <button class="budget__expense-button budget__expense-button--edit">✏️</button>\n                            <button class="budget__expense-button budget__expense-button--delete">🗑</button>\n                        </div>\n                        <div class="budget__expense-date">${r}</div>\n                        <div class="budget__expense-tip">${n}</div>\n                    </div>`;expensesContainer.insertAdjacentHTML("beforeend",s)}))}}